spring.application.name=apartments-manager

# Server Configuration
#server.port=8089

# Character Encoding - UTF-8 for Bulgarian Cyrillic
spring.servlet.encoding.charset=UTF-8
spring.servlet.encoding.enabled=true
spring.servlet.encoding.force=true
#spring.http.encoding.charset=UTF-8
#spring.http.encoding.enabled=true
#spring.http.encoding.force=true

# Thymeleaf Configuration
spring.thymeleaf.cache=false
#spring.thymeleaf.enabled=true
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.servlet.content-type=text/html;charset=UTF-8

# Static Resources
spring.web.resources.static-locations=classpath:/static/

# Logging Configuration
logging.level.com.realestate=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.thymeleaf=DEBUG
logging.level.org.springframework.web.servlet.resource.NoResourceFoundException=OFF
logging.level.org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver=ERROR

spring.mvc.hiddenmethod.filter.enabled=true

# Error Handling Configuration
#server.error.whitelabel.enabled=false
#server.error.path=/error
#server.error.include-message=always
#server.error.include-binding-errors=always
#server.error.include-stacktrace=on_param
#server.error.include-exception=false

# JPA/Hibernate Configuration
# Hibernate 7 (Spring Boot 4.0.1) - Explicitly set MySQL dialect
# IMPORTANT: MySQL8Dialect class does NOT exist in Hibernate 7
# Use generic MySQLDialect which works with MySQL 8
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Prevent Hibernate from failing on startup if database is not available
# This allows the application to start even if database connection fails initially
spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# Database Configuration
# Note: In Spring Boot 3.x/4.x, use kebab-case for properties
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.url=jdbc:mysql://localhost:3306/apartments_manager?createDatabaseIfNotExist=true&useUnicode=true&characterEncoding=UTF-8&useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=770329

# Connection Pool Configuration
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5

# Logging Configuration for Database
logging.level.org.hibernate.persister.entity=ERROR
logging.level.org.hibernate.engine.jdbc.env.spi.JdbcEnvironment=DEBUG
logging.level.com.zaxxer.hikari=DEBUG
logging.level.org.springframework.jdbc=DEBUG